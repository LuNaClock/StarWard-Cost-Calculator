# 星の翼 総合耐久・覚醒シミュレーター

## 1. 概要

ゲーム「星の翼」の対戦において、複雑な状況下での耐久値や覚醒ゲージを瞬時に計算・シミュレーションし、戦略立案を支援するウェブアプリケーションです。

**▼ Webアプリケーションはこちら**
*   **公開URL:** [https://starward-calculator.ai-lifebook.com/](https://starward-calculator.ai-lifebook.com/)
*   **GitHub Pages:** [https://lunaclock.github.io/StarWard-Cost-Calculator/](https://lunaclock.github.io/StarWard-Cost-Calculator/)

## 2. 開発背景・目的

『星の翼』をプレイする中で、特にコストオーバー後の耐久値計算や、どのタイミングで覚醒が溜まるかの予測は、戦況を有利に進める上で非常に重要です。しかし、これらの計算は複雑で、試合中に即時判断するのは困難でした。

そこで、「プレイヤーがより直感的に戦況を判断し、戦略的な判断を下せるようにしたい」という課題意識から、このシミュレーターの開発を始めました。このツールは、私自身の課題解決から出発し、他のプレイヤーにとっても価値のあるものとなることを目指しています。

## 3. 工夫した点・こだわった点

*   **直感的なUI/UX:**
    *   HPバーやアニメーションなど、視覚的に戦況を把握しやすいデザインを追求しました。
    *   GSAPを活用し、SF的な世界観に合わせた滑らかなアニメーションを実装することで、使う楽しさを演出しました。
    *   モバイル版 (Beta) でも「チーム合計耐久力予測」と「選択キャラクター詳細」を確認できるようにし、どの端末でも主要な情報にアクセスしやすくしました。
*   **柔軟なシミュレーション機能:**
    *   単なる耐久値計算だけでなく、「理想」「妥協」など複数の撃墜シナリオを提示することで、より実践的な戦略検討を可能にしました。
    *   覚醒ゲージの予測では、被ダメージだけでなく与ダメージや各種ボーナスも考慮に入れることで、より精度の高いシミュレーションを実現しました。
*   **OCRによる入力補助機能:**
    *   スクリーンショットから数値を自動入力する機能を試験的に実装しました。OpenCV.jsによる画像の前処理と、ONNX Runtimeによるクライアントサイドでの推論を組み合わせることで、サーバーレスで手軽に利用できるOCR体験を目指しました。

## 4. 主な機能

*   **キャラクターごとのコストオーバー耐久値計算**
*   **再出撃＆覚醒ゲージ予測シミュレーション**
*   **チーム合計耐久力予測**
*   **検索・フィルタリング・ソート機能**
*   **ゲーム画面OCR（試験的機能）による自動入力**

## 5. 使用技術と選定理由

このプロジェクトでは、以下の技術を選定しました。

| カテゴリ | 技術 | 選定理由 |
| :--- | :--- | :--- |
| **フロントエンド** | HTML, CSS, JavaScript (ESM) | Web標準技術をベースに、外部ライブラリへの依存を最小限に抑え、保守性とパフォーマンスを両立させるため。 |
| **アニメーション** | GSAP (GreenSock) | CSSだけでは難しい複雑で滑らかなアニメーションを、軽量かつ高いパフォーマンスで実現できるため。 |
| **OCR** | ONNX Runtime, OpenCV.js, esearch-ocr | サーバーを介さず、ユーザーのブラウザ上で完結する高速なOCR処理を実現するため。プライバシーと手軽さを両立できると判断しました。 |
| **インフラ** | GitHub Pages | 静的サイトのホスティングに特化しており、無料で高速な配信が可能なため。 |

## 6. 実行方法

`index.html` ファイルをウェブブラウザで開くことでも動作しますが、完全な動作にはローカルウェブサーバーをたちあげる必要があります。
例えばVisual Studio Codeであれば「Live Server」などの拡張機能を入れる事で実行可能です。

## 7. 今後の課題

*   より詳細なゲーム内データ（武装、特殊能力など）の取り込みと、それに基づいた高度なシミュレーション機能の実装。
*   チーム編成の保存・読み込み・共有機能の追加。
*   UI/UXのさらなる向上。
*   ゲームのアップデートに合わせたデータや計算ロジックの継続的なメンテナンス。

## 8. 参考資料

*   覚醒ゲージシステム検証 (他ゲーム参考): アヒャッポゥのブログ [https://www.dragonicfighter.net/entry/2021/10/12/090336](https://www.dragonicfighter.net/entry/2021/10/12/090336)
    *   (注: 本ツールの覚醒ゲージ計算は「星の翼」の仕様に基づいていますが、上記記事の検証アプローチを参考にさせていただきました。)

---
© 2025 Lu:Na:Clock

![CodeRabbit Pull Request Reviews](https://img.shields.io/coderabbit/prs/github/LuNaClock/StarWard-Cost-Calculator?utm_source=oss&utm_medium=github&utm_campaign=LuNaClock%2FStarWard-Cost-Calculator&labelColor=171717&color=FF570A&link=https%3A%2F%2Fcoderabbit.ai&label=CodeRabbit+Reviews)
